{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "ui.schema.json",
  "title": "UI Schema",
  "description": "Schema for the UI Schema",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "description": "The Metaschema of the UI Schema"
    },
    "version": {
      "type": "string",
      "examples": [
        "2.1"
      ],
      "pattern": "^\\d+\\.\\d+$",
      "description": "Version of the UI Schema. Changes in a major version are backwards compatible, so a parser for version two must be compatible with UI Schemas of version 2.x but not version 1.x!"
    },
    "layout": {
      "title": "Layout",
      "$schema": "http://json-schema.org/draft-07/schema#",
      "$id": "layout.schema.json",
      "type": "object",
      "description": "The different layouts",
      "properties": {
        "$id": {
          "type": "string",
          "description": "The ID of the layout"
        },
        "$schema": {
          "type": "string",
          "description": "May contain a schema reference to the ui schema"
        },
        "type": {
          "type": "string",
          "enum": [
            "VerticalLayout",
            "HorizontalLayout",
            "Group"
          ]
        },
        "elements": {
          "title": "Elements",
          "description": "The elements of the layout",
          "type": "array",
          "default": [],
          "items": {
            "title": "Layout element",
            "oneOf": [
              {
                "$id": "control.schema.json",
                "$schema": "http://json-schema.org/draft-07/schema#",
                "type": "object",
                "title": "Control",
                "description": "Contains a form element, e. g. a text input",
                "definitions": {
                  "variants": {
                    "type": "string",
                    "description": "Variants for colors",
                    "title": "Color Variants",
                    "enum": [
                      "primary",
                      "secondary",
                      "success",
                      "danger",
                      "warning",
                      "info",
                      "outline-primary",
                      "outline-secondary",
                      "outline-success",
                      "outline-danger",
                      "outline-warning",
                      "outline-info"
                    ],
                    "default": "primary"
                  },
                  "autocompleteValues": {
                    "type": "string",
                    "description": "Specifies what should be autocompleted by the browser. Possible values are taken from https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete#values",
                    "enum": [
                      "off",
                      "on",
                      "name",
                      "honorific-prefix",
                      "given-name",
                      "additional-name",
                      "family-name",
                      "honorific-suffix",
                      "nickname",
                      "email",
                      "username",
                      "new-password",
                      "current-password",
                      "one-time-code",
                      "organization-title",
                      "organization",
                      "street-address",
                      "shipping",
                      "billing",
                      "address-line1",
                      "address-line2",
                      "address-line3",
                      "address-level4",
                      "address-level3",
                      "address-level2",
                      "address-level1",
                      "country",
                      "country-name",
                      "postal-code",
                      "cc-name",
                      "cc-given-name",
                      "cc-additional-name",
                      "cc-family-name",
                      "cc-number",
                      "cc-exp",
                      "cc-exp-month",
                      "cc-exp-year",
                      "cc-csc",
                      "cc-type",
                      "transaction-currency",
                      "transaction-amount",
                      "language",
                      "bday",
                      "bday-day",
                      "bday-month",
                      "bday-year",
                      "sex",
                      "tel",
                      "tel-country-code",
                      "tel-national",
                      "tel-area-code",
                      "tel-local",
                      "tel-extension",
                      "impp",
                      "url",
                      "photo",
                      "webauthn"
                    ]
                  },
                  "controlFormattingOptions": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "label": {
                        "type": "boolean",
                        "description": "Defines whether the fields label is shown",
                        "default": true
                      },
                      "placeholder": {
                        "type": "string",
                        "description": "Will be shown as placeholder in form fields, if supported by field"
                      },
                      "cssClass": {
                        "type": "string",
                        "description": "The Controls CSS classes",
                        "examples": [
                          "bg-primary",
                          "bg-info specialpart"
                        ]
                      },
                      "hidden": {
                        "type": "boolean",
                        "description": "Sets the visibility of the field to hidden. For example useful in combination with a DateTime field with default:\"$now\" to create a hidden timestamp."
                      },
                      "append": {
                        "type": "string",
                        "description": "Will be appended to field"
                      },
                      "disabled": {
                        "type": "boolean",
                        "description": "Disables the field",
                        "default": false
                      }
                    }
                  },
                  "tagsOptions": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "tags": {
                        "type": "object",
                        "description": "Will be rendered as tags-Field",
                        "properties": {
                          "enabled": {
                            "type": "boolean",
                            "description": "Set to true to render the field as tags field",
                            "default": false
                          },
                          "pills": {
                            "type": "boolean",
                            "default": false
                          },
                          "variant": {
                            "$ref": "#/properties/layout/properties/elements/items/oneOf/0/definitions/variants"
                          }
                        }
                      }
                    }
                  },
                  "enumOptions": {
                    "allOf": [
                      {
                        "title": "Common Enum Options",
                        "additionalProperties": false,
                        "type": "object",
                        "properties": {
                          "enumTitles": {
                            "type": "object",
                            "title": "Titles for enum",
                            "description": "If the text in a enums select field is supposed to differ from the keys, they can be specified as properties of this object. The value in the enum must be used as property name",
                            "propertyNames": {
                              "type": "string",
                              "minLength": 1
                            },
                            "patternProperties": {
                              "": {
                                "type": "string",
                                "minLength": 1
                              }
                            }
                          },
                          "stacked": {
                            "type": "boolean",
                            "description": "Radiobutton-/Checkbox group will be stacked if set to true",
                            "default": false
                          },
                          "switch": {
                            "type": "boolean",
                            "title": "Switches",
                            "description": "If set to true, the checkbox(-group) it was specified for will be rendered as switch(es)"
                          }
                        }
                      },
                      {
                        "oneOf": [
                          {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "displayAs": {
                                "type": "string",
                                "description": "Choose how an enum should be displayed",
                                "enum": [
                                  "select",
                                  "radiobuttons"
                                ],
                                "default": "select"
                              }
                            }
                          },
                          {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "displayAs"
                            ],
                            "properties": {
                              "displayAs": {
                                "type": "string",
                                "description": "Choose how an enum should be displayed",
                                "enum": [
                                  "buttons"
                                ]
                              },
                              "buttonVariant": {
                                "$ref": "#/properties/layout/properties/elements/items/oneOf/0/definitions/variants"
                              }
                            }
                          }
                        ]
                      }
                    ]
                  },
                  "fileUploadOptions": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "allowMultipleFiles": {
                        "type": "boolean",
                        "description": "Allows the upload of multiple files with fileupload"
                      },
                      "acceptedFileType": {
                        "type": "string",
                        "description": "The accepted File Types",
                        "examples": [
                          "image/*",
                          "image/jpeg, image/png, image/gif",
                          ".jpg, .png, .gif"
                        ]
                      }
                    }
                  },
                  "inputOptions": {
                    "type": "object",
                    "additionalProperties": false,
                    "description": "Options for text fields",
                    "properties": {
                      "format": {
                        "description": "Format for string fields",
                        "type": "string",
                        "enum": [
                          "text",
                          "time",
                          "date",
                          "datetime-local",
                          "email",
                          "password",
                          "search",
                          "url",
                          "tel",
                          "color",
                          "hidden"
                        ],
                        "default": "text"
                      },
                      "multi": {
                        "oneOf": [
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          }
                        ],
                        "default": false,
                        "description": "If set true, textarea will be shown instead of textfield. \n Alternatively can be set to the number of wanted lines"
                      },
                      "autocomplete": {
                        "$ref": "#/properties/layout/properties/elements/items/oneOf/0/definitions/autocompleteValues"
                      }
                    }
                  }
                },
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "Control"
                    ]
                  },
                  "scope": {
                    "type": "string",
                    "description": "A json pointer referring to the form element in the forms json schema",
                    "format": "json-pointer"
                  },
                  "options": {
                    "type": "object",
                    "title": "Options",
                    "description": "Gives multiple options to configure the element",
                    "additionalProperties": false,
                    "properties": {
                      "format": {
                        "description": "Format for string fields",
                        "type": "string",
                        "enum": [
                          "text",
                          "time",
                          "date",
                          "datetime-local",
                          "email",
                          "password",
                          "search",
                          "url",
                          "tel",
                          "color",
                          "hidden"
                        ],
                        "default": "text"
                      },
                      "multi": {
                        "oneOf": [
                          {
                            "type": "boolean"
                          },
                          {
                            "type": "integer"
                          }
                        ],
                        "default": false,
                        "description": "If set true, textarea will be shown instead of textfield. \n Alternatively can be set to the number of wanted lines"
                      },
                      "autocomplete": {
                        "$ref": "#/properties/layout/properties/elements/items/oneOf/0/definitions/autocompleteValues"
                      },
                      "allowMultipleFiles": {
                        "type": "boolean",
                        "description": "Allows the upload of multiple files with fileupload"
                      },
                      "acceptedFileType": {
                        "type": "string",
                        "description": "The accepted File Types",
                        "examples": [
                          "image/*",
                          "image/jpeg, image/png, image/gif",
                          ".jpg, .png, .gif"
                        ]
                      },
                      "enumTitles": {
                        "type": "object",
                        "title": "Titles for enum",
                        "description": "If the text in a enums select field is supposed to differ from the keys, they can be specified as properties of this object. The value in the enum must be used as property name",
                        "propertyNames": {
                          "type": "string",
                          "minLength": 1
                        },
                        "patternProperties": {
                          "": {
                            "type": "string",
                            "minLength": 1
                          }
                        }
                      },
                      "stacked": {
                        "type": "boolean",
                        "description": "Radiobutton-/Checkbox group will be stacked if set to true",
                        "default": false
                      },
                      "switch": {
                        "type": "boolean",
                        "title": "Switches",
                        "description": "If set to true, the checkbox(-group) it was specified for will be rendered as switch(es)"
                      },
                      "displayAs": {
                        "type": "string",
                        "description": "Choose how an enum should be displayed",
                        "enum": [
                          "select",
                          "radiobuttons",
                          "buttons"
                        ],
                        "default": "select"
                      },
                      "buttonVariant": {
                        "$ref": "#/properties/layout/properties/elements/items/oneOf/0/definitions/variants"
                      },
                      "tags": {
                        "type": "object",
                        "description": "Will be rendered as tags-Field",
                        "properties": {
                          "enabled": {
                            "type": "boolean",
                            "description": "Set to true to render the field as tags field",
                            "default": false
                          },
                          "pills": {
                            "type": "boolean",
                            "default": false
                          },
                          "variant": {
                            "$ref": "#/properties/layout/properties/elements/items/oneOf/0/definitions/variants"
                          }
                        }
                      },
                      "label": {
                        "type": "boolean",
                        "description": "Defines whether the fields label is shown",
                        "default": true
                      },
                      "placeholder": {
                        "type": "string",
                        "description": "Will be shown as placeholder in form fields, if supported by field"
                      },
                      "cssClass": {
                        "type": "string",
                        "description": "The Controls CSS classes",
                        "examples": [
                          "bg-primary",
                          "bg-info specialpart"
                        ]
                      },
                      "hidden": {
                        "type": "boolean",
                        "description": "Sets the visibility of the field to hidden. For example useful in combination with a DateTime field with default:\"$now\" to create a hidden timestamp."
                      },
                      "append": {
                        "type": "string",
                        "description": "Will be appended to field"
                      },
                      "disabled": {
                        "type": "boolean",
                        "description": "Disables the field",
                        "default": false
                      }
                    }
                    },
                    "showOn": {
                    "$ref": "#/properties/layout/properties/showOn"
                  }
                },
                "examples": [
                  {
                    "type": "Control",
                    "scope": "/properties/objectInJsonSchema"
                  },
                  {
                    "type": "Control",
                    "scope": "/properties/field",
                    "showOn": {
                      "scope": "/properties/referenceField",
                      "type": "EQUALS",
                      "referenceValue": "awesomeValue"
                    },
                    "options": {
                      "label": false,
                      "radiobuttons": true,
                      "stacked": true
                    }
                  }
                ],
                "additionalProperties": false,
                "required": [
                  "type",
                  "scope"
                ]
              },
              {
                "$ref": "#/properties/layout"
              },
              {
                "title": "HTML Renderer",
                "$schema": "http://json-schema.org/draft-07/schema#",
                "$id": "html.schema.json",
                "type": "object",
                "description": "Some HTML to be rendered in the form",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "HTML"
                    ]
                  },
                  "htmlData": {
                    "type": "string"
                  },
                  "showOn": {
                    "$ref": "#/properties/layout/properties/showOn"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "htmlData"
                ]
              },
              {
                "title": "Divider",
                "$schema": "http://json-schema.org/draft-07/schema#",
                "$id": "divider.schema.json",
                "type": "object",
                "description": "inserts a simple divider",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "Divider"
                    ]
                  },
                  "showOn": {
                    "$ref": "#/properties/layout/properties/showOn"
                  }
                },
                "additionalProperties": false,
                "required": [
                  "type"
                ]
              },
              {
                "$id": "button.schema.json",
                "$schema": "http://json-schema.org/draft-07/schema#",
                "title": "Button",
                "description": "Used to put a button into the form",
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "Button"
                    ]
                  },
                  "buttonType": {
                    "title": "The Buttons Type",
                    "description": "Submit or Reset",
                    "type": "string",
                    "enum": [
                      "submit",
                      "reset"
                    ]
                  },
                  "text": {
                    "type": "string",
                    "title": "Text",
                    "description": "The buttons text"
                  },
                  "options": {
                    "type": "object",
                    "title": "Options",
                    "description": "Options for the button",
                    "properties": {
                      "cssClass": {
                        "type": "string",
                        "description": "The layout's CSS classes",
                        "examples": [
                          "bg-primary",
                          "bg-info headerpart"
                        ]
                      },
                      "nativeSubmitOptions": {
                        "type": "object",
                        "description": "Settings if native form submit is used",
                        "title": "Native Submit Settings",
                        "properties": {
                          "formaction": {
                            "type": "string",
                            "description": "Specifies where to send the form-data when a form is submitted"
                          },
                          "formmethod": {
                            "type": "string",
                            "description": "Specifies how to send the form-data",
                            "enum": [
                              "get",
                              "post"
                            ]
                          },
                          "formtarget": {
                            "type": "string",
                            "description": "Specifies where to display the response after submitting the form",
                            "enum": [
                              "_blank",
                              "_self",
                              "_parent",
                              "_top"
                            ]
                          },
                          "formenctype": {
                            "type": "string",
                            "description": "Specifies how form-data should be encoded before sending it to a server",
                            "enum": [
                              "application/x-www-form-urlencoded",
                              "multipart/form-data",
                              "text/plain"
                            ]
                          }
                        }
                      }
                    }
                  }
                },
                "additionalProperties": false,
                "required": [
                  "type",
                  "buttonType",
                  "text"
                ]
              },
              {
                "$id": "buttongroup.schema.json",
                "$schema": "http://json-schema.org/draft-07/schema#",
                "title": "Buttongroup",
                "description": "Used to group buttons",
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "Buttongroup"
                    ]
                  },
                  "buttons": {
                    "type": "array",
                    "description": "The buttons in the button group",
                    "items": {
                      "$ref": "#/properties/layout/properties/elements/items/oneOf/4"
                    },
                    "minItems": 1
                  },
                  "vertical": {
                    "type": "boolean",
                    "default": false,
                    "description": "Display the buttons vertical"
                  }
                },
                "required": [
                  "buttons",
                  "type"
                ],
                "additionalProperties": false
              }
            ]
          }
        },
        "showOn": {
          "$id": "show_on.schema.json",
          "$schema": "http://json-schema.org/draft-07/schema#",
          "title": "ShowOn property",
          "type": "object",
          "description": "Show field depending on value of other field",
          "definitions": {
            "legacyShowOn": {
              "title": "Legacy ShowOn property",
              "type": "object",
              "description": "Legacy Variant of defining ShowOn property",
              "properties": {
                "scope": {
                  "type": "string",
                  "format": "json-pointer",
                  "description": "The field this field depends on"
                },
                "type": {
                  "type": "string",
                  "description": "Condition to be applied",
                  "title": "ShowOn function type",
                  "enum": [
                    "EQUALS",
                    "NOT_EQUALS",
                    "GREATER",
                    "GREATER_OR_EQUAL",
                    "SMALLER_OR_EQUAL",
                    "SMALLER",
                    "LONGER"
                  ]
                },
                "referenceValue": {
                  "description": "The value the field from scope is compared against",
                  "oneOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "string"
                    },
                    {
                      "type": "number"
                    }
                  ]
                }
              },
              "required": [
                "type",
                "scope",
                "referenceValue"
              ],
              "additionalProperties": false
            }
          },
          "oneOf": [
            {
              "$ref": "#/properties/layout/properties/showOn/definitions/legacyShowOn"
            }
          ]
        },
        "label": {
          "type": "string",
          "description": "Adds a label for groups (only for type=Group)"
        },
        "options": {
          "description": "Additional options",
          "type": "object",
          "properties": {
            "cssClass": {
              "type": "string",
              "description": "The layout's CSS classes",
              "examples": [
                "bg-primary",
                "bg-info headerpart"
              ]
            }
          }
        }
      },
      "examples": [
        {
          "type": "VerticalLayout",
          "elements": []
        },
        {
          "type": "Group",
          "label": "This is a group",
          "elements": []
        }
      ],
      "additionalProperties": false,
      "required": [
        "type",
        "elements"
      ]
    }
  },
  "required": [
    "version",
    "layout"
  ],
  "additionalProperties": false
}